<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


     <div id="hubspotForm"></div>

    <!-- Script de HubSpot -->
    <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
    <script>
        /*hbspt.forms.create({
        portalId: "23615684",
        formId: "fc3d30cd-e2f8-4d35-a4dc-9ae60d4dc4cc",
        region: "na1",
        target: "#hubspotForm" 
        });*/

        const params = new URLSearchParams(window.location.search);
    
        hbspt.forms.create({
            portalId: "23615684",
            formId: "fc3d30cd-e2f8-4d35-a4dc-9ae60d4dc4cc",
            region: "na1",
            target: "#hubspotForm",
            onFormReady: function($form) {
                console.log("El form ya está listo:", $form);

                const campoFecha = $form.querySelector('input[id="class_date-fc3d30cd-e2f8-4d35-a4dc-9ae60d4dc4cc"]');
                const campoFechaPicker = $form.getElementsByClassName('hs-dateinput')[0].childNodes[2];
                if (campoFecha) {
                    console.log("Campo encontrado:", campoFecha);
                    // Inyectar fecha
                    campoFecha.value= params.get("class_date");

                    // Bloquear edición
                    campoFecha.readonly= true;
                    campoFecha.disabled = true;
                    campoFecha.style.backgroundColor ="#f6fa78";


                    // Evitar borrado con teclado
                    campoFecha.addEventListener("keydown", (e) => e.preventDefault());
                    campoFecha.addEventListener("mousedown", (e) => e.preventDefault());

                    // Eliminar date picker
                    if (campoFechaPicker) {
                        campoFechaPicker.remove();
                    }
                }

                const campoClase = $form.querySelector('input[id="class_date___region-fc3d30cd-e2f8-4d35-a4dc-9ae60d4dc4cc"]');

                if (campoClase) {
                    console.log("Campo encontrado:", campoClase);
                    // Inyectar Clase
                    campoClase.value= params.get("class_date___region");

                    // Bloquear edición
                    campoClase.readonly= true;
                    campoClase.style.backgroundColor ="#f6fa78";

                    // Evitar borrado con teclado
                    campoClase.addEventListener("keydown", (e) => e.preventDefault());
                    campoClase.addEventListener("mousedown", (e) => e.preventDefault());
                }
            }
        });

    </script>

    <!-- Script de Inyeccion -->
    <script>

        /*setTimeout(() => {
            const dateBG = document.getElementsByTagName('iframe')[0].contentWindow.document.getElementsByClassName('hs-dateinput')[0].firstChild;
            const datePicker = document.getElementsByTagName('iframe')[0].contentWindow.document.getElementsByClassName('hs-dateinput')[0].childNodes[2];
            dateBG.readOnly = true;
            dateBG.style.backgroundColor="#f6fa78";
            dateBG.disabled = true;
            datePicker.remove();
        }, 1000);

        setTimeout(() => {
            const element = document.getElementsByTagName('iframe')[0].contentWindow.document.getElementsByName('class_date___region')[0];
            element.readOnly = true;
            element.style.backgroundColor="#f6fa78";
        }, 1000);*/




    </script>
</body>
</html>
